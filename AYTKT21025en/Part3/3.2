3.2

vyyalacn@UbuntuDocker:~/devops/3.2$ cat Dockerfile
FROM ubuntu:16.04

ENV LC_ALL=C.UTF-8

RUN apt-get update && \
    apt-get -y install rtmpdump wget ffmpeg python3-dev python3-setuptools \
    python3-pip python3-crypto python3-requests python3-lxml \
    php-cli php-curl php-xml php-bcmath && \
    pip3 install --user --upgrade yle-dl

WORKDIR /opt

ENTRYPOINT ["/root/.local/bin/yle-dl"]


Fetchin file from YLE
=====================

vyyalacn@UbuntuDocker:~/devops/3.2$ docker run -it -v $(pwd)/yle:/opt yle-dl1 -o /opt/uutiset.mkv https://areena.yle.fi/1-50289176
yle-dl 20190614: Download media files from Yle Areena and Elävä Arkisto
Copyright (C) 2009-2019 Antti Ajanki <antti.ajanki@iki.fi>, license: GPLv3

Output file: /opt/uutiset.mkv
[matroska @ 0x171ed40] Error parsing AAC extradata, unable to determine samplerate.
Could not write header for output file #0 (incorrect codec parameters ?): Invalid argument
WARNING: Unsupported extension .mkv. Replacing it with .mp4
Output file: /opt/uutiset.mp4
--2019-09-23 13:53:33--  https://cdnsecakmi.kaltura.com/p/1955031/sp/195503100/playManifest/entryId/1_j263cneo/flavorId/0_frhz9a9b/format/url/protocol/https/a.mp4?uiConfId=43362851&referrer=aHR0cHM6Ly9hcmVlbmEueWxlLmZpLzEtNTAyODkxNzY=&playSessionId=11111111-1111-1111-1111-111111111111&clientTag=html5:v0.39.4
Resolving cdnsecakmi.kaltura.com (cdnsecakmi.kaltura.com)... 104.110.244.172
Connecting to cdnsecakmi.kaltura.com (cdnsecakmi.kaltura.com)|104.110.244.172|:443... connected.
HTTP request sent, awaiting response... 302 Moved Temporarily
Location: https://ylekaod-a.akamaihd.net/s/p/1955031/sp/195503100/serveFlavor/entryId/1_j263cneo/v/2/ev/7/flavorId/0_frhz9a9b/name/a.mp4?__hdnea__=st=1569246813~exp=1569261213~acl=/s/p/1955031/sp/195503100/serveFlavor/entryId/1_j263cneo/v/2/ev/7/flavorId/0_frhz9a9b/name/a.mp4*~hmac=e7f866e8022ba6ef5c52826f2b91b035d5f3be5afb42a43aed6af7409b6fbb00 [following]
--2019-09-23 13:53:33--  https://ylekaod-a.akamaihd.net/s/p/1955031/sp/195503100/serveFlavor/entryId/1_j263cneo/v/2/ev/7/flavorId/0_frhz9a9b/name/a.mp4?__hdnea__=st=1569246813~exp=1569261213~acl=/s/p/1955031/sp/195503100/serveFlavor/entryId/1_j263cneo/v/2/ev/7/flavorId/0_frhz9a9b/name/a.mp4*~hmac=e7f866e8022ba6ef5c52826f2b91b035d5f3be5afb42a43aed6af7409b6fbb00
Resolving ylekaod-a.akamaihd.net (ylekaod-a.akamaihd.net)... 88.221.134.16, 88.221.134.49
Connecting to ylekaod-a.akamaihd.net (ylekaod-a.akamaihd.net)|88.221.134.16|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 55886162 (53M) [video/mp4]
Saving to: ‘/opt/uutiset.mp4’

/opt/uutiset.mp4                        100%[============================================================================>]  53.30M  6.38MB/s    in 8.5s

2019-09-23 13:53:42 (6.26 MB/s) - ‘/opt/uutiset.mp4’ saved [55886162/55886162]

Stream saved to /opt/uutiset.mp4
